---
layout: default
title: map
---

</map>

<div id="map"></div>
<div id="location-metadata"></div>

</main>

<script>

function onEachFeature(feature, layer) {
  console.log(feature);
  var popupContent = '';
    if (feature.properties) {

      if (feature.properties.name) {
        popupContent += '<h2>' + feature.properties.name + '</h2>';
      }

      if (feature.properties.images) {

        feature.properties.images.forEach(function(image) {
          popupContent += '<img src="images/'+image+'">';
        });

      }
      layer.bindPopup(popupContent);
    }
}

var mymap = L.map('map').setView([-34.6065302, -58.43062439999999], 12);

L.tileLayer('https://api.mapbox.com/styles/v1/norabenedict/ciuygz63a00go2io45drad3w0/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoibm9yYWJlbmVkaWN0IiwiYSI6ImNpdXllbjdkbzA0aHYyeWwxd3BoaDdrYzgifQ.F94DF9486D8vAprIkZSOnQ', {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
    maxZoom: 18
}).addTo(mymap);

L.geoJSON(locations,{
    onEachFeature: onEachFeature
}).addTo(mymap).on('click', function(e) {

  var content = document.createElement('div');
  var booksheading = document.createElement('h2');
  var booksheadingtext = document.createTextNode('Books');
  booksheading.appendChild(booksheadingtext);
  content.appendChild(booksheading);

  var content = document.createElement('div');
  var historyheading = document.createElement('h2');
  var historyheadingtext = document.createTextNode('History');
  historyheading.appendChild(historyheadingtext);
  content.appendChild(historyheading);


  metadata_container = document.getElementById('location-metadata');
  metadata_container.appendChild(content);

  console.log(e);
});
</script>
